[gd_scene load_steps=17 format=3 uid="uid://b1bwg2tirgxwk"]

[ext_resource type="Script" path="res://vehicle.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://c7ev21tk2uwfl" path="res://assets/wheelDefault.tscn" id="2_d8d30"]
[ext_resource type="PackedScene" uid="uid://b6l4n51hs4j2x" path="res://taxi.tscn" id="3_g8gsb"]
[ext_resource type="Script" path="res://CameraSmoother.gd" id="5_gqs5b"]
[ext_resource type="Script" path="res://Meshes.gd" id="5_tvsip"]
[ext_resource type="PackedScene" uid="uid://bryvkjw068gsh" path="res://assets/red_convertible.tscn" id="7_7bbdy"]
[ext_resource type="PackedScene" uid="uid://btbb8iwulg14y" path="res://assets/green_jeep.tscn" id="8_5mx7q"]
[ext_resource type="PackedScene" uid="uid://ba5f17vqo2op" path="res://assets/firetruck.tscn" id="9_e5umt"]
[ext_resource type="PackedScene" uid="uid://ig7b453158tn" path="res://assets/police.tscn" id="9_xtctw"]
[ext_resource type="PackedScene" uid="uid://bw5xmatek7g7x" path="res://assets/delivery.tscn" id="10_s5nnp"]
[ext_resource type="PackedScene" uid="uid://c7v2h8ye43n4q" path="res://assets/garbageTruck.tscn" id="11_pjbe1"]
[ext_resource type="PackedScene" uid="uid://x4bpkxih2cfc" path="res://assets/hatchbackSports.tscn" id="12_keoic"]
[ext_resource type="Script" path="res://addons/godot_rl_agents/sensors/sensors_3d/RaycastSensor3D.gd" id="14_qlofu"]
[ext_resource type="PackedScene" uid="uid://bs0osbn6djn0i" path="res://arrow_3d.tscn" id="15_irtpm"]

[sub_resource type="PhysicsMaterial" id="1"]
friction = 0.5

[sub_resource type="BoxShape3D" id="7"]
size = Vector3(0.954078, 0.576755, 2.32662)

[node name="Vehicle" type="VehicleBody3D" groups=["AGENT"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00169557, 0.222867, -0.0955184)
collision_layer = 2
physics_material_override = SubResource("1")
center_of_mass_mode = 1
can_sleep = false
script = ExtResource("1")

[node name="FrontLeftWheel" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.573678, 0.115169, 1.05129)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88

[node name="wheelDefault" parent="FrontLeftWheel" instance=ExtResource("2_d8d30")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="BackLeftWheel" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.573678, 0.115169, -0.632342)
use_as_traction = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88

[node name="wheelDefault2" parent="BackLeftWheel" instance=ExtResource("2_d8d30")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="FrontRightWheel" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.573678, 0.115169, 1.05129)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88

[node name="wheelDefault5" parent="FrontRightWheel" instance=ExtResource("2_d8d30")]

[node name="BackRightWheel" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.573678, 0.115169, -0.632342)
use_as_traction = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88

[node name="wheelDefault4" parent="BackRightWheel" instance=ExtResource("2_d8d30")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4366, 0.0774262)
shape = SubResource("7")

[node name="Node3D" type="Node3D" parent="."]

[node name="CameraSmoother" type="Node3D" parent="Node3D"]
transform = Transform3D(-0.999762, -0.0158309, 0.015023, 0, 0.688355, 0.725374, -0.0218244, 0.725201, -0.688191, 0, 6.02, -6.197)
visible = false
script = ExtResource("5_gqs5b")

[node name="Node" type="Node" parent="."]

[node name="Meshes" type="Node3D" parent="."]
script = ExtResource("5_tvsip")

[node name="RedConvertible" parent="Meshes" instance=ExtResource("7_7bbdy")]
transform = Transform3D(-0.6, 0, -2.33649e-07, 0, 0.6, 0, 2.33649e-07, 0, -0.6, 0, 0.417889, 0.240061)
visible = false

[node name="Car" parent="Meshes" instance=ExtResource("3_g8gsb")]
transform = Transform3D(-0.6, 0, -2.33649e-07, 0, 0.6, 0, 2.33649e-07, 0, -0.6, 0, 0.48034, 0.239897)
visible = false

[node name="GreenJeep" parent="Meshes" instance=ExtResource("8_5mx7q")]
transform = Transform3D(-0.6, 0, -2.33649e-07, 0, 0.6, 0, 2.33649e-07, 0, -0.6, 0, 0.444449, 0.241243)
visible = false

[node name="PoliceCar" parent="Meshes" instance=ExtResource("9_xtctw")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.182332, 0.199664)
visible = false

[node name="FireTruck" parent="Meshes" instance=ExtResource("9_e5umt")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.137417, 0.0877788)

[node name="Delivery" parent="Meshes" instance=ExtResource("10_s5nnp")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.17896, 0.394227)
visible = false

[node name="GarbageTruck" parent="Meshes" instance=ExtResource("11_pjbe1")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.150346, 0.522479)
visible = false

[node name="Hatchback" parent="Meshes" instance=ExtResource("12_keoic")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.149111, 0.206981)
visible = false

[node name="Arrow3D" parent="." instance=ExtResource("15_irtpm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
visible = false

[node name="RayCastSensor3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 0.77426, 1.22044)
script = ExtResource("14_qlofu")
n_rays_width = 12.0
ray_length = 80.0
cone_width = 90.0
cone_height = 30.0

[node name="@RayCast3D@18555" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-51.4973, -17.3152, 58.7215)

[node name="@RayCast3D@18556" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-52.2964, -10.4421, 59.6326)

[node name="@RayCast3D@18557" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-52.6975, -3.48955, 60.0899)

[node name="@RayCast3D@18558" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-52.6975, 3.48955, 60.0899)

[node name="@RayCast3D@18559" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-52.2964, 10.4421, 59.6326)

[node name="node_0 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-51.4973, 17.3152, 58.7215)

[node name="@RayCast3D@18560" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-43.3921, -17.3152, 64.9408)

[node name="@RayCast3D@18561" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-44.0654, -10.4421, 65.9485)

[node name="@RayCast3D@18562" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-44.4033, -3.48955, 66.4543)

[node name="@RayCast3D@18563" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-44.4033, 3.48955, 66.4543)

[node name="@RayCast3D@18564" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-44.0654, 10.4421, 65.9485)

[node name="node_1 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-43.3921, 17.3152, 64.9408)

[node name="@RayCast3D@18565" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-34.5444, -17.3152, 70.0491)

[node name="@RayCast3D@18566" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-35.0804, -10.4421, 71.136)

[node name="@RayCast3D@18567" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-35.3494, -3.48955, 71.6815)

[node name="@RayCast3D@18568" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-35.3494, 3.48955, 71.6815)

[node name="@RayCast3D@18569" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-35.0804, 10.4421, 71.136)

[node name="node_2 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-34.5444, 17.3152, 70.0491)

[node name="@RayCast3D@18570" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.1056, -17.3152, 73.9587)

[node name="@RayCast3D@18571" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.4952, -10.4421, 75.1063)

[node name="@RayCast3D@18572" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.6907, -3.48955, 75.6823)

[node name="@RayCast3D@18573" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.6907, 3.48955, 75.6823)

[node name="@RayCast3D@18574" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.4952, 10.4421, 75.1063)

[node name="node_3 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-25.1056, 17.3152, 73.9587)

[node name="@RayCast3D@18575" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.2373, -17.3152, 76.6029)

[node name="@RayCast3D@18576" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.4737, -10.4421, 77.7916)

[node name="@RayCast3D@18577" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.5924, -3.48955, 78.3881)

[node name="@RayCast3D@18578" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.5924, 3.48955, 78.3881)

[node name="@RayCast3D@18579" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.4737, 10.4421, 77.7916)

[node name="node_4 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-15.2373, 17.3152, 76.6029)

[node name="@RayCast3D@18580" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.10823, -17.3152, 77.9365)

[node name="@RayCast3D@18581" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.18749, -10.4421, 79.1458)

[node name="@RayCast3D@18582" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.22727, -3.48955, 79.7527)

[node name="@RayCast3D@18583" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.22727, 3.48955, 79.7527)

[node name="@RayCast3D@18584" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.18749, 10.4421, 79.1458)

[node name="node_5 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(-5.10823, 17.3152, 77.9365)

[node name="@RayCast3D@18585" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.10823, -17.3152, 77.9365)

[node name="@RayCast3D@18586" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.18749, -10.4421, 79.1458)

[node name="@RayCast3D@18587" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.22727, -3.48955, 79.7527)

[node name="@RayCast3D@18588" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.22727, 3.48955, 79.7527)

[node name="@RayCast3D@18589" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.18749, 10.4421, 79.1458)

[node name="node_6 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(5.10823, 17.3152, 77.9365)

[node name="@RayCast3D@18590" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.2373, -17.3152, 76.6029)

[node name="@RayCast3D@18591" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.4737, -10.4421, 77.7916)

[node name="@RayCast3D@18592" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.5924, -3.48955, 78.3881)

[node name="@RayCast3D@18593" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.5924, 3.48955, 78.3881)

[node name="@RayCast3D@18594" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.4737, 10.4421, 77.7916)

[node name="node_7 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(15.2373, 17.3152, 76.6029)

[node name="@RayCast3D@18595" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.1056, -17.3152, 73.9587)

[node name="@RayCast3D@18596" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.4952, -10.4421, 75.1063)

[node name="@RayCast3D@18597" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.6907, -3.48955, 75.6823)

[node name="@RayCast3D@18598" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.6907, 3.48955, 75.6823)

[node name="@RayCast3D@18599" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.4952, 10.4421, 75.1063)

[node name="node_8 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(25.1056, 17.3152, 73.9587)

[node name="@RayCast3D@18600" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(34.5444, -17.3152, 70.0491)

[node name="@RayCast3D@18601" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(35.0804, -10.4421, 71.136)

[node name="@RayCast3D@18602" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(35.3494, -3.48955, 71.6815)

[node name="@RayCast3D@18603" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(35.3494, 3.48955, 71.6815)

[node name="@RayCast3D@18604" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(35.0804, 10.4421, 71.136)

[node name="node_9 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(34.5444, 17.3152, 70.0491)

[node name="@RayCast3D@18605" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(43.3921, -17.3152, 64.9408)

[node name="@RayCast3D@18606" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(44.0654, -10.4421, 65.9485)

[node name="@RayCast3D@18607" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(44.4033, -3.48955, 66.4543)

[node name="@RayCast3D@18608" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(44.4033, 3.48955, 66.4543)

[node name="@RayCast3D@18609" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(44.0654, 10.4421, 65.9485)

[node name="node_10 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(43.3921, 17.3152, 64.9408)

[node name="@RayCast3D@18610" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(51.4973, -17.3152, 58.7215)

[node name="@RayCast3D@18611" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(52.2964, -10.4421, 59.6326)

[node name="@RayCast3D@18612" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(52.6975, -3.48955, 60.0899)

[node name="@RayCast3D@18613" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(52.6975, 3.48955, 60.0899)

[node name="@RayCast3D@18614" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(52.2964, 10.4421, 59.6326)

[node name="node_11 5" type="RayCast3D" parent="RayCastSensor3D"]
target_position = Vector3(51.4973, 17.3152, 58.7215)
